<div class="container mt-5">

  <div class="card shadow-lg p-4 mx-auto" style="max-width: 850px; border-radius: 12px;">

    <h3 class="text-center mb-4 fw-bold text-primary">
      {{ role }} Registration
    </h3>

    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">

      <div class="row g-3">

        <!-- Name -->
        <div class="col-md-6">
          <label class="form-label">Name</label>
          <input class="form-control" formControlName="name">
          <div *ngIf="registrationForm.get('name')?.touched && registrationForm.get('name')?.invalid" class="error-text">
            <small *ngIf="registrationForm.get('name')?.errors?.['required']">
              Name is required
            </small>
          </div>
        </div>

        <!-- Username -->
        <div class="col-md-6">
          <label class="form-label">Username</label>
          <input class="form-control" formControlName="username">
          <div *ngIf="registrationForm.get('username')?.touched && registrationForm.get('username')?.invalid" class="error-text">
            <small *ngIf="registrationForm.get('username')?.errors?.['required']">
              User Name is required
            </small>
          </div>
        </div>

        <!-- Email -->
        <div class="col-md-6">
          <label class="form-label">Email</label>
          <input class="form-control" type="email" formControlName="email">
          <div *ngIf="registrationForm.get('email')?.touched && registrationForm.get('email')?.invalid" class="error-text">
            <small *ngIf="registrationForm.get('email')?.errors?.['required']">
              Email is required
            </small>
            <small *ngIf="registrationForm.get('email')?.errors?.['email']">
              Enter a valid email address
            </small>
          </div>
        </div>

        <!-- Contact Number -->
        <div class="col-md-6">
          <label class="form-label">Contact Number</label>
          <input class="form-control" formControlName="contactNumber">
          <div *ngIf="registrationForm.get('contactNumber')?.touched && registrationForm.get('contactNumber')?.invalid" class="error-text">
            <small *ngIf="registrationForm.get('contactNumber')?.errors?.['required']">
              Contact Number is required
            </small>
          </div>
        </div>

        <!-- Department -->
        <div class="col-md-6">
          <label class="form-label">Department</label>
          <select class="form-select" formControlName="department">
            <option value="">Select Department</option>
            <option *ngFor="let dep of departments" [value]="dep">
              {{ dep }}
            </option>
          </select>
          <div *ngIf="registrationForm.get('department')?.touched && registrationForm.get('department')?.invalid" class="error-text">
            <small *ngIf="registrationForm.get('department')?.errors?.['required']">
              Please select department
            </small>
          </div>
        </div>

        <!-- Password -->
        <div class="col-md-6">
          <label class="form-label">Password</label>
          <input class="form-control" type="password" formControlName="password">
          <div *ngIf="registrationForm.get('password')?.touched && registrationForm.get('password')?.invalid" class="error-text">
            <small *ngIf="registrationForm.get('password')?.errors?.['required']">
              Password is required
            </small>
            <small *ngIf="registrationForm.get('password')?.errors?.['minlength']">
              Password should be of minimum 4 digits
            </small>
          </div>
        </div>

        <!-- Profile Image -->
        <div class="col-12">
          <label class="form-label">Profile Image (Optional)</label>
          <input class="form-control" type="file" (change)="onFileSelected($event)">
        </div>

      </div>

      <button class="btn btn-primary w-100 mt-4 py-2" [disabled]="registrationForm.invalid">
        Register
      </button>
      <div class="text-center mt-3">
        <a routerLink="/login" class="text-primary" style="text-decoration: none;">
          Already have an account? Login
        </a>
      </div>

    </form>
  </div>

</div>
